<svg:svg xmlns:svg='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.kite9.org/schema/adl'>
  <svg:defs>

    <svg:marker id="arrow-end-marker" markerWidth="7" markerHeight="7" refX="4" refY="4" orient="auto">
      <svg:path d="M2,2 L6,4 L2,6" class="kie9-back"></svg:path>
    </svg:marker>

    <svg:marker id="arrow-start-marker" markerWidth="7" markerHeight="7" refX="3" refY="4" orient="auto">
      <svg:path d="M6,2 L2,4 L6,6" class="kite9-back"></svg:path>
    </svg:marker>
  </svg:defs>

  <template id="diagram" k9-ui="drop layout">
    <back class="back" k9-indicator="rect" style='kite9-usage: decal; kite9-type: svg; '>
      <svg:rect x='0' y='0' width='#{$width}' height='#{$height}' />
    </back>
    <contents />
  </template>

  <template id='box' k9-ui="drag drop delete align connect" k9-drop="rect link" k9-align="yes" k9-delete="single">
    <back class="back" k9-indicator="rect" style='kite9-usage: decal; kite9-type: svg;  '>
      <svg:rect x='0' y='0' width='#{$width}' height='#{$height}' rx='4pt' ry='4pt' />
    </back>
    <contents />
  </template>
  
  <template id='group' k9-ui="drag drop delete insert align connect layout">
    <back class="back" k9-indicator="rect" style='kite9-usage: decal; kite9-type: svg;  '>
      <svg:rect x='0' y='0' width='#{$width}' height='#{$height}' rx='4pt' ry='4pt' />
    </back>
    <contents />
  </template>
  
  <template id='cell' k9-ui="orphan drop invisible layout">
    <back class="back" k9-indicator="rect" style='kite9-usage: decal; kite9-type: svg;  '>
      <svg:rect x='0' y='0' width='#{$width}' height='#{$height}' rx='4pt' ry='4pt' />
    </back>
    <contents />
  </template>

  <template id="link" k9-ui="delete cascade drop">
    <line class="back" k9-indicator="path" style="kite9-type: svg; kite9-usage: decal;">
      <svg:path d="#{$path}" class="link" style="marker-start: #{$markerstart}; marker-end: #{$markerend}" />
    </line>
    <contents />
  </template>

  <template id='terminator' k9-ui="orphan drag">
    <svg:rect x='0' y='0' width='#{$width}' height='#{$height}' k9-indicator="rect" class="terminator" />
  </template>
  
  <template id='no-terminator' k9-ui="drag orphan">
  </template>
  
  <template id="text" k9-ui="orphan text">
    <contents />
  </template>

<!-- 
  <template id="button" a="b">
    <back class="back" style='kite9-usage: decal; kite9-type: svg; '>
      <svg:rect x='0' y='0' width='#{$width}' height='#{$height}' rx='8' ry='8' />
    </back>
    <contents />
  </template>

  <template id="field" name="#{../@name}">
    <back style='kite9-usage: decal; kite9-type: svg; '>
      <svg:rect x='0' y='0' width='#{$width}' height='#{$height}' />
    </back>
    <contents />
  </template>
   -->

</svg:svg>