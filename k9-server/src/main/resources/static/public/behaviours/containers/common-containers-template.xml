<svg:svg xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.kite9.org/schema/adl' xmlns:xlink="http://www.w3.org/1999/xlink">

  <svg:defs>
    <svg:filter id="invisible">
       <svg:feColorMatrix in="SourceGraphic"
        type="matrix"
        values="0 0 0 .72 0
                0 0 0 .75 0
                0 0 0 1 0
                0 0 0 1 0" />
    </svg:filter>
  </svg:defs>

   <template id="group-undirected" k9-ui="drag drop delete insert align connect layout invisible">
    <back k9-indicator="path" style='kite9-usage: decal; kite9-type: svg; fill: white; '>
      <svg:rect x='0' y='0' width='#{$width}' height='#{$height}' rx='12px' ry='12px'  />
    </back>
    <contents />
  </template>
  
  <template id="group-directed" k9-ui="drag drop delete insert align connect layout invisible">
    <back k9-indicator="path" style='kite9-usage: decal; kite9-type: svg; fill: white; '>
      <svg:rect x='0' y='0' width='#{$width}' height='#{$height}' rx='12px' ry='12px'  />
    </back>
    <indicator style='kite9-usage: decal; kite9-type: svg; ' k9-indicator="rect">
      <svg:image x="#{$width div 2 - 20}" y="#{$height div 2 - 20}" width="40" height="40" xlink:href="#{../../@layout}.svg" filter="url(#invisible)" />
    </indicator>
    <contents />
  </template>
  
   <template id="container-directed">
    <back k9-indicator="path" style='kite9-usage: decal; kite9-type: svg; '>
      <svg:rect x='0' y='0' width='#{$width}' height='#{$height}' rx='8px' ry='8px' />
    </back>
    <indicator style='kite9-usage: decal; kite9-type: svg; ' k9-indicator="rect">
      <svg:image  x="#{$width div 2 - 20}" y="#{$height div 2 - 20}" width="40" height="40" xlink:href="#{../../@layout}.svg" filter="url(#invisible)" />
    </indicator>
    <svg:g class="container">
      <contents />
    </svg:g>
  </template>
  
  <template id="container-undirected">
    <back k9-indicator="path" style='kite9-usage: decal; kite9-type: svg; '>
      <svg:rect x='0' y='0' width='#{$width}' height='#{$height}' rx='8px' ry='8px' />
    </back>
    <svg:g class="container">
      <contents />
    </svg:g>
  </template>
  
  <template id='label' k9-ui="delete orphan">
    <svg:g k9-indicator="rect">
      <front style="kite9-type: text; ">
        <contents />
      </front>
    </svg:g>
  </template>
  
  
</svg:svg>
